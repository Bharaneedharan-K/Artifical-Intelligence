% Cross-correlation and Autocorrelation Analysis
% Author: [Your Name]
% Date: [Today's Date]
clc;
clear;
close all;
%% Define the input sequences
% Example: simulate a signal and a delayed echo version
x = [1 2 3 4 5 0 0 0];       % Original signal
y = [0 0 0 1 2 3 4 5];       % Delayed version (simulated echo)
% Time indices
n = 0:length(x)-1;
%% Compute Cross-Correlation
xy_corr = xcorr(x, y);   % Cross-correlation x with y
lag_xy = -length(x)+1:length(x)-1;
%% Compute Autocorrelation
xx_corr = xcorr(x);      % Autocorrelation of x
lag_xx = -length(x)+1:length(x)-1;
%% Plot the signals
figure;
subplot(3,1,1);
stem(n, x, 'filled');
title('Original Signal x(n)');
xlabel('n'); ylabel('Amplitude'); grid on;
subplot(3,1,2);
stem(n, y, 'filled');
title('Echoed/Delayed Signal y(n)');
xlabel('n'); ylabel('Amplitude'); grid on;
%% Plot Cross-Correlation
subplot(3,1,3);
stem(lag_xy, xy_corr, 'filled');
title('Cross-Correlation R_{xy}(k)');
xlabel('Lag k'); ylabel('Amplitude'); grid on;
%% Plot Autocorrelation separately
figure;
stem(lag_xx, xx_corr, 'filled');
title('Autocorrelation R_{xx}(k)');
xlabel('Lag k'); ylabel('Amplitude'); grid on;
%% Optional: Identify Maximum Correlation Lag (useful for echo detection)
[~, max_idx] = max(xy_corr);
estimated_delay = lag_xy(max_idx);
fprintf('Estimated delay between x(n) and y(n): %d samples\n', estimated_delay);
